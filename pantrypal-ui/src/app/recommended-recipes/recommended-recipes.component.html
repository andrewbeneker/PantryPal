<div class="recommended-container">
  <h2 class="recommended-title">Recommended Recipes</h2>

  <!-- Only show if expiring items exist -->
  <div *ngIf="hasExpiringItems" class="expiring-button-wrapper">
    <button class="expiring-btn" (click)="recommendBasedOnExpiring()">
      Expiring Soon Picks 🕒
    </button>
  </div>

  <div class="recipes-grid" *ngIf="recipes.length > 0; else noResults">
    <div class="recipe-card" *ngFor="let recipe of recipes">
      <img [src]="recipe.image" [alt]="recipe.label" />
      <h3>{{ recipe.label }}</h3>

      <div class="card-actions">
        <a [href]="recipe.url" target="_blank" class="view-link">View Recipe</a>

        <div *ngIf="!isFavorite(recipe); else alreadyFavorited">
          <button class="btn btn-success ms-2" (click)="createFavorite(recipe)">
            ❤️ Add to Favorites
          </button>
        </div>

        <ng-template #alreadyFavorited>
          <p class="text-success fw-bold">In Favorites ✅</p>
        </ng-template>
      </div>
    </div>
  </div>

  <ng-template #noResults>
    <p>No recipes found using your current pantry ingredients.</p>
  </ng-template>
</div>
